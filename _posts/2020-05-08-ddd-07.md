---
layout: post
title: DDD 07  (TWIL)
categories: [DDD]
tags: [DDD]
---

# 가속화와 관리 도구 

## 이벤트 스토밍

### 이벤트 스토밍 
 - 빠른 주기의 학습 과정에 도메인 전문가와 개발자 모두가 참여하는 신속한 설계 기술
 - 비즈니스와 비즈니스 프로세스에 초점
 - 이벤트 주도 모델링에서 넘어감. 더 경량
     - 대화, 시나리오, UML
 - 전원 학습과 설계 세션에 기여해야할 책임
     - 포스트잇, 펜
 - 이벤트와 비즈니스 프로세스에 집중: 클래스나 데이터베이스 보다
 - 시각적 접근
 - 거칠고 빠르고 적은 비용
 - 팀원 전체의 이해의 폭을 높힌다
 - 단수/복수의 스토밍 세션
 - 필수
     1. 도메인 전문가
     1. 개발자
     1. 펜
     1. 포스트잇
     1. 보드
 - 일단은 매우 많은 이벤트를 생성하자
    - 정제하는 비용은 비교적 적다

### 방법

 1.도메인 이벤트를 작성한다
    - 이벤트당 colorA  포스트잇 한장
    - 비즈니스 프로세스 최우선
    - 이름은 과거형 동사
    - 시간 순대로 부착 
         - 이벤트 간의 수직, 수평적인 관계에 따라 부착
    - 문제점이 보이면 colorB 포스트잇에 적어서 붙인다 
    - 이벤트와 프로세스가 연관되면 colorX 프로세스 포스트잇 쪽으로 화살표를 연결한다

1. 명령을 작성한다
    - 이벤트당 colorC 포스트잇 한장
    - 현재형/명령형 동사
    - 시간 순 배열
    - 명령/이벤트 짝을 이루라 
        - 어떤 이벤트는 명령이 없을 수도 있다 (ex: 기간만료)
        - 어떤 명령은 다수의 이벤트에 해당될 수 있다
    - 명령의 특정 사용자가 있으면 colorD 포스트잇으로 사용자를 적고 부착
    - 명령과 프로세스가 연관되면colorX  프로세스 포스트잇쪽으로 화살표를 연결한다

1. 엔터티/애그리게잇 작성
     - 명령을 엔터티/애그리게잇에 연관시킨다
     - 엔터티/애그리게잇은 명령이 실행된 후 도메인 이벤트의 결과가 저장되는 데이터 저장소
     - 애그리게잇 당 colorE 포스트잇에 작성
     - 명사형
     - 명령/도메인 pair와 함께 부착
          - 시간 흐름에 따라 살펴보면 아마도 반족적으로 사용되는 애그리게잇을 발견할 것
    - 애그리게잇과 프로세스가 연관되면colorX  프로세스 포스트잇쪽으로 화살표를 연결한다

1. 모델과 모델 사이
    - 모델링 공간에 경계선과 흐름을 보여주기 위한 화살표를 그린다
    - 경계점을 찾는다: 이하 예시
          1. 서로 다른 비즈니스 측 사람들이 같은 용어에 대해 서로 다른 정의를 갖는다
          1. 용어의 개념이 중요하긴 하나 핵심도메인의 일부가 아닌 부서들간의 경계k
    - 바운디드 컨텍스트는 실선 테두리, 서브도메인은 점선 테두리로 표시
    - 컨택스트 당 colorF 포스트잇에 작성
    - 도메인 이벤트 흐름의 방향을 보여주기 위해서 화살표 선을 그린다

1. 뷰를 식별하고 생성
    - 뷰 산출물 당 colorG 포스트잇에 작성
    - 뷰를 사용할 특정 사용자가 있다면 colorD 포스트잇으로 사용자를 적고 부착

### 다른 도구
 1. 인수 테스트
 1. 임팩트 매핑
 1. 사용자 스토리 매핑


## 애자일 프로젝트에서의 DDD 관리
 
### 잘못된 애자일
 - 너무 구체화된 예상 시간
 - 지식획득의 무시

### 중요한 일부터 먼저
 - DDD의 성공에 가장 중요한 것은 좋은 사람을 고용하는 것
 - 매우 좋은 개발자가 필요하다

### SWOT 분석 사용
 - SWOT 분석의 포스트잇을 도메인 모델을 고민할 때 사용해 보자

### 모델링 스파이크와 모델링 부채
 - 모델링에는 스파이크와 이로 인한 부채가 있기 마련이다
 - 급하더라도 모델링을 위한 노력을 피하지 말자
 - 어느정도의 모델링 부채에 두려워 하지 말자

### 작업 확인 및 노력 추정: 지표 기반 접근법
 1. 컴포넌트 종류를 나타낼 열을 만들고 채운다
     - 도메인 이벤트, 명령, 애그리게잇 ...
 1. 컴포넌트 별로 쉬움, 적당함, 복잡함이라는 단계의 열을 생성한다
 1. 컴포넌트의 각 단계 당 들어가는 리소스를 기입하여 지표를 완성한다
 1. 완성된 지표를 기반으로백로그 아이템 작업에 투여될 리소스를 정한다
 - 리소스의 종류 별로 지표는 늘어날 수 있다 (ex: 시간, 인원, 비용 등)

## 기간이 정해진 모델링

### 모델링 구성하기
 - 하나의 작업 안에, 애그리게잇 당 사용하는 모든 명령과 모든 도메인 이벤트를 합치자
     - 과도한 복잡성을 피한다
### 구현
 - 구체적인 시나리오 & 이벤트 스토밍
 1. 짧은 이벤트 스토밍
 1. 도메인 전문가의 협업
 1. 시나리오를 수행할 인수 테스트
 1. 컴포넌트에 테스트/명세를 수행
 1. 짧고 빠른 반복

### 도메인 전문가와 상호작용
 - 이벤트 스토밍에는 항상 도메인 전문가가 필요하다: 2~3시간 * 3~4일
 - 논의와 모델 시나리오 생성에는 도메인 전문가의 의견이 필요하다: 10~20분
 - 모델의 정확성을 확인하는 테스트를 검토할 때 도메인 전문가가 필요하다: 1~2분
 - 보편언어, 애그리게잇 이름, 명령, 도메인 이벤트를 개선하기 위해 도메인 전문가가 필요하다
