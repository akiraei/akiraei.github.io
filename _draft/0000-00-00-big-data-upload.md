대용량 업로드


직접 서비스 서버에 file을 올리면 서비스 터짐

그러니까 db에 일단 asset의 자리를 만든다(post). - id, url

그리고 에러 없이 콜백을 받았다면 gcs(cdn)에 file을 post

gcs가 post를 잘 받아서 에러 없는 콜백을 받는다면 gcs에 저장된 파일의 url을 알수 있을 것이다.
 
이제 방금 만든 자리 (id)에 gcs에 들어가 있는 url을 자리에 넣는다 (put)


이거시 대용량 업로드 서비스




---

만약 올려야 하는 것이 훨씬 더 크다면 올리는 역할을 pc에서 하는게 아니라 사내 nas에서 관리.

nas에 파일을 저장해 놓고 신호를 주면 위에서 asset 자리 만드는 것 부터를 nas에서 하는 것.

